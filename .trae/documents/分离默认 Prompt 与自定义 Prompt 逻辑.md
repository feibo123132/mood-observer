已为您彻底分离了 Prompt 逻辑，现在的行为如下：

1.  **场景 A：点击“生成情绪报告”**
    *   AI 扮演：温暖、专业的心理咨询师。
    *   指令：分析本周数据，提供趋势分析、共情和建议。
    *   效果：与之前一致，专业的周报。

2.  **场景 B：输入自定义 Prompt 并发送**
    *   AI 扮演：**无预设人设**（纯净的智能助手，听从您的所有指令）。
    *   指令：**完全使用您的 Prompt**。
    *   数据：作为上下文附在您的 Prompt 下方（因为如果连数据都不给，AI 就真的没法分析您的情绪了），但 AI 不会主动去“生成周报”，除非您要求它这么做。
    *   效果：如果您输入“用鲁迅的口吻吐槽”，AI 就会直接开始吐槽，不再受“心理咨询师”的条条框框限制。

### ⚠️ 再次提醒：手动部署
请务必再次部署 `cloudfunctions/analyzeMood` 文件夹，否则新逻辑不会生效！
部署命令：`tcb functions:deploy analyzeMood` (如果您使用 CLI) 或者在 IDE 插件中右键部署。